# 企业项目<a name="dws_01_0113"></a>

企业项目是一种云资源管理方式。企业管理（Enterprise Management）提供面向企业客户的云上资源管理、人员管理、权限管理、财务管理等综合管理服务。区别于管理控制台独立操控、配置云产品的方式，企业管理控制台以面向企业资源管理为出发点，帮助企业以公司、部门、项目等分级管理方式实现企业云上的人员、资源、权限、财务的管理。

已开通企业项目服务的用户，可以使用企业项目管理华为云上的云服务资源。

## 绑定企业项目<a name="section1323291617427"></a>

在DWS中，用户可以在创建集群时，在“高级配置“中为集群选择所属的企业项目，从而将DWS集群与企业项目进行关联。在选择“企业项目“的下拉列表中，将显示用户在企业项目服务中已创建的项目。系统还内置了一个缺省的企业项目“default“，如果用户没有为集群选择企业项目，将使用缺省项目“default“。

注意，目前企业项目服务仍处于公测期间，仅允许有公测权限的用户设置企业项目，普通用户无法看到企业项目相关信息。

在集群创建过程中，如果集群与企业项目绑定成功，则集群创建成功，如果绑定失败，系统会发送告警，集群就会创建失败。

在为DWS集群创建快照时，会同时保存集群与企业项目的关联关系，在恢复集群时，也会恢复企业项目的关联关系。

当删除DWS集群时，DWS集群与企业项目的关联关系就会被自动删除。

## 查看企业项目<a name="section9386284318"></a>

在集群创建成功后，您可以在集群列表和集群基本信息页面查看集群关联的企业项目。用户只能查询到有访问权限的项目下的集群资源。

在集群管理页面的集群列表中，查看集群所属的企业项目。

**图 1**  查看企业项目<a name="fig16444222123317"></a>  
![](figures/查看企业项目.png "查看企业项目")

在集群列表中，找到所需要的集群，然后单击集群名称，进入集群“基本信息“页面，可以查看与集群关联的企业项目。单击企业项目的名称，可以跳转到企业管理的控制台页面对该企业项目进行查看或编辑。

**图 2**  查看集群的企业项目<a name="fig1822447112816"></a>  
![](figures/查看集群的企业项目.png "查看集群的企业项目")

同时，在企业管理的控制台中，查询指定项目中的资源列表时，也可以查询到DWS服务的资源。

## 按企业项目搜索集群<a name="section395894514538"></a>

登录DWS管理控制台，单击“集群管理“，在集群列表上方单击“所有项目“，然后在下拉列表中选择所需搜索的项目名称，即可查看与该项目关联的所有集群。

**图 3**  按企业项目搜索<a name="fig16387193712215"></a>  
![](figures/按企业项目搜索.png "按企业项目搜索")

## 将集群迁入或迁出企业项目<a name="section161961120114516"></a>

一个DWS集群只能关联一个企业项目。当集群创建成功后，可以在企业管理的控制台中，执行迁出操作，将DWS集群从当前所属的企业项目中迁出到另一个企业项目中；或者执行迁入操作，在指定的企业项目中迁入另一个企业项目中的DWS集群。迁入迁出后，DWS集群与新的企业项目进行关联，DWS集群与原企业项目的关联关系将被自动解除。详细操作，请参考《企业管理用户指南》的“企业项目管理 \> 如何管理资源”章节。

## 企业项目级别细粒度授权<a name="section2165464536"></a>

当系统预置的权限不能满足要求时，您可以创建自定义策略，并通过给用户组授予自定义策略来进行精细的访问控制。企业项目作为一个单独可管理的对象，可以和用户组绑定，策略可以授权给用户组，这就实现了企业项目级别的细粒度授权。

首先，登录IAM服务管理控制台，在策略页面中，基于系统预置的策略模板（例如DWS  Admin、DWS  Viewer等）创建自定义策略。然后，登录企业管理控制台，在用户组管理页面中将用户组加入到项目，并将已创建的自定义策略与企业项目所在的用户组进行绑定，再将子用户添加到用户组，这样就完成了企业项目级别的细粒度授权。详细操作，请参考《企业管理用户指南》的[用户组管理](https://support.huaweicloud.com/usermanual-em/zh-cn_topic_0108763972.html)。

用户可以在创建自定义策略时，在策略语句的Action列表中，增加[表1](#table42061239124614)所示的DWS操作对应的“IAM Action”，从而使策略获得相应的DWS操作权限。例如，在自定义策略语句的Action列表中，添加"dws:cluster:create"，那么该策略就拥有了创建/恢复集群的权限。

**表 1**  DWS细粒度权限列表

<a name="table42061239124614"></a>
<table><thead align="left"><tr id="row126809551465"><th class="cellrowborder" valign="top" width="39.58%" id="mcps1.2.3.1.1"><p id="p6682105517467"><a name="p6682105517467"></a><a name="p6682105517467"></a>DWS操作</p>
</th>
<th class="cellrowborder" valign="top" width="60.419999999999995%" id="mcps1.2.3.1.2"><p id="p1568215520468"><a name="p1568215520468"></a><a name="p1568215520468"></a>IAM Action</p>
</th>
</tr>
</thead>
<tbody><tr id="row1251733919468"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p1951710394465"><a name="p1951710394465"></a><a name="p1951710394465"></a>创建/恢复集群</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p251773918465"><a name="p251773918465"></a><a name="p251773918465"></a>"dws:cluster:create"</p>
</td>
</tr>
<tr id="row17517439134615"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p1051710394469"><a name="p1051710394469"></a><a name="p1051710394469"></a>设置自动快照</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p951715398468"><a name="p951715398468"></a><a name="p951715398468"></a>"dws:cluster:setAutomatedSnapshot"</p>
</td>
</tr>
<tr id="row65171439164611"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p651703920469"><a name="p651703920469"></a><a name="p651703920469"></a>设置安全参数/参数组</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p451733910466"><a name="p451733910466"></a><a name="p451733910466"></a>"dws:cluster:setParameter"</p>
</td>
</tr>
<tr id="row251718395468"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p9517639154610"><a name="p9517639154610"></a><a name="p9517639154610"></a>重启集群</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p18517639104615"><a name="p18517639104615"></a><a name="p18517639104615"></a>"dws:cluster:restart"</p>
</td>
</tr>
<tr id="row15517143911462"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p451710393460"><a name="p451710393460"></a><a name="p451710393460"></a>扩容集群</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p14517183912467"><a name="p14517183912467"></a><a name="p14517183912467"></a>"dws:cluster:scaleOut"</p>
</td>
</tr>
<tr id="row19517193934617"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p4517173917468"><a name="p4517173917468"></a><a name="p4517173917468"></a>重置密码</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p1751703919469"><a name="p1751703919469"></a><a name="p1751703919469"></a>"dws:cluster:resetPassword"</p>
</td>
</tr>
<tr id="row20517139104611"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p12517739134610"><a name="p12517739134610"></a><a name="p12517739134610"></a>变更参数组</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p2517103924618"><a name="p2517103924618"></a><a name="p2517103924618"></a>"dws:cluster:changeParameterGroup"</p>
</td>
</tr>
<tr id="row15171539134619"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p13517123912467"><a name="p13517123912467"></a><a name="p13517123912467"></a>删除集群</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p5517163913466"><a name="p5517163913466"></a><a name="p5517163913466"></a>"dws:cluster:delete"</p>
</td>
</tr>
<tr id="row15517339114613"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p1551763904612"><a name="p1551763904612"></a><a name="p1551763904612"></a>设置可维护时间段</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p17517183954617"><a name="p17517183954617"></a><a name="p17517183954617"></a>"dws:cluster:setMaintainceWindow"</p>
</td>
</tr>
<tr id="row451733964610"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p6517173919466"><a name="p6517173919466"></a><a name="p6517173919466"></a>绑定EIP</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p15179392462"><a name="p15179392462"></a><a name="p15179392462"></a>"dws:eip:operate"</p>
</td>
</tr>
<tr id="row10517173919460"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p2051763964619"><a name="p2051763964619"></a><a name="p2051763964619"></a>解绑EIP</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p20517183974617"><a name="p20517183974617"></a><a name="p20517183974617"></a>"dws:eip:operate"</p>
</td>
</tr>
<tr id="row1851710393464"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p1851716395462"><a name="p1851716395462"></a><a name="p1851716395462"></a>创建DNS域名</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p65172039164617"><a name="p65172039164617"></a><a name="p65172039164617"></a>"dws:dns:create"</p>
</td>
</tr>
<tr id="row12517143964618"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p5517439164619"><a name="p5517439164619"></a><a name="p5517439164619"></a>释放DNS域名</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p65191439194611"><a name="p65191439194611"></a><a name="p65191439194611"></a>"dws:dns:release"</p>
</td>
</tr>
<tr id="row851903916463"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p135191739104613"><a name="p135191739104613"></a><a name="p135191739104613"></a>修改DNS域名</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p2519139114618"><a name="p2519139114618"></a><a name="p2519139114618"></a>"dws:dns:edit"</p>
</td>
</tr>
<tr id="row19519133914613"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p14519133974620"><a name="p14519133974620"></a><a name="p14519133974620"></a>创建MRS连接</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p17519839134612"><a name="p17519839134612"></a><a name="p17519839134612"></a>"dws:MRSConnection:create"</p>
</td>
</tr>
<tr id="row165191739144619"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p14519183917463"><a name="p14519183917463"></a><a name="p14519183917463"></a>更新MRS连接</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p4519153914614"><a name="p4519153914614"></a><a name="p4519153914614"></a>"dws:MRSConnection:update"</p>
</td>
</tr>
<tr id="row1951914391467"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p125191539154618"><a name="p125191539154618"></a><a name="p125191539154618"></a>删除MRS连接</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p12519113915465"><a name="p12519113915465"></a><a name="p12519113915465"></a>"dws:MRSConnection:delete"</p>
</td>
</tr>
<tr id="row951943954612"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p55191839174618"><a name="p55191839174618"></a><a name="p55191839174618"></a>添加/删除标签</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p175191139194616"><a name="p175191139194616"></a><a name="p175191139194616"></a>"dws:tag:addAndDelete"</p>
</td>
</tr>
<tr id="row1651993914460"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p951953984616"><a name="p951953984616"></a><a name="p951953984616"></a>编辑标签</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p125197391461"><a name="p125197391461"></a><a name="p125197391461"></a>"dws:tag:edit"</p>
</td>
</tr>
<tr id="row5519639114610"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p1851916393460"><a name="p1851916393460"></a><a name="p1851916393460"></a>创建扩展应用</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p2051963919469"><a name="p2051963919469"></a><a name="p2051963919469"></a>"dws:extendedApplication:create"</p>
</td>
</tr>
<tr id="row14519153964612"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p135192039184614"><a name="p135192039184614"></a><a name="p135192039184614"></a>删除扩展应用</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p3519133914461"><a name="p3519133914461"></a><a name="p3519133914461"></a>"dws:extendedApplication:delete"</p>
</td>
</tr>
<tr id="row1251993924617"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p551923934612"><a name="p551923934612"></a><a name="p551923934612"></a>创建快照</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p1051910399466"><a name="p1051910399466"></a><a name="p1051910399466"></a>"dws:snapshot:create"</p>
</td>
</tr>
<tr id="row751993994619"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p751973915466"><a name="p751973915466"></a><a name="p751973915466"></a>删除快照</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p11519173964616"><a name="p11519173964616"></a><a name="p11519173964616"></a>"dws:snapshot:delete"</p>
</td>
</tr>
<tr id="row1451917394462"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p18519123915462"><a name="p18519123915462"></a><a name="p18519123915462"></a>复制快照</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p145192039134616"><a name="p145192039134616"></a><a name="p145192039134616"></a>"dws:snapshot:copy"</p>
</td>
</tr>
<tr id="row85191339194617"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p151911399466"><a name="p151911399466"></a><a name="p151911399466"></a>创建参数组</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p125199398465"><a name="p125199398465"></a><a name="p125199398465"></a>"dws:parameterGroup:create"</p>
</td>
</tr>
<tr id="row851983974610"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p15519183924619"><a name="p15519183924619"></a><a name="p15519183924619"></a>删除参数组</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p105191339114610"><a name="p105191339114610"></a><a name="p105191339114610"></a>"dws:parameterGroup:delete"</p>
</td>
</tr>
<tr id="row105191239144619"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p125191839184611"><a name="p125191839184611"></a><a name="p125191839184611"></a>修改参数组</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p1951923914615"><a name="p1951923914615"></a><a name="p1951923914615"></a>"dws:parameterGroup:edit"</p>
</td>
</tr>
<tr id="row12519183924620"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p55190393467"><a name="p55190393467"></a><a name="p55190393467"></a>调用OpenAPI创建集群</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p115196396463"><a name="p115196396463"></a><a name="p115196396463"></a>"dws:openAPICluster:create"</p>
</td>
</tr>
<tr id="row1051920398462"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p1851953914612"><a name="p1851953914612"></a><a name="p1851953914612"></a>调用OpenAPI删除集群</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p5519193917463"><a name="p5519193917463"></a><a name="p5519193917463"></a>"dws:openAPICluster:delete"</p>
</td>
</tr>
<tr id="row1351973920469"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p145199398466"><a name="p145199398466"></a><a name="p145199398466"></a>调用OpenAPI扩容集群</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p17519539104614"><a name="p17519539104614"></a><a name="p17519539104614"></a>"dws:openAPICluster:resize"</p>
</td>
</tr>
<tr id="row185191139104618"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p65191394463"><a name="p65191394463"></a><a name="p65191394463"></a>调用OpenAPI重启集群</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p12519439204617"><a name="p12519439204617"></a><a name="p12519439204617"></a>"dws:openAPICluster:restart"</p>
</td>
</tr>
<tr id="row155191539164615"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p55191839144617"><a name="p55191839144617"></a><a name="p55191839144617"></a>调用OpenAPI重置密码</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p115191539124615"><a name="p115191539124615"></a><a name="p115191539124615"></a>"dws:openAPICluster:resetPassword"</p>
</td>
</tr>
<tr id="row1851923994619"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p185198391462"><a name="p185198391462"></a><a name="p185198391462"></a>调用OpenAPI创建快照</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p1520339124620"><a name="p1520339124620"></a><a name="p1520339124620"></a>"dws:openAPISnapshot:create"</p>
</td>
</tr>
<tr id="row8520133954611"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p1520739144619"><a name="p1520739144619"></a><a name="p1520739144619"></a>调用OpenAPI删除快照</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p1052073914612"><a name="p1052073914612"></a><a name="p1052073914612"></a>"dws:openAPISnapshot:delete"</p>
</td>
</tr>
<tr id="row1520113994619"><td class="cellrowborder" valign="top" width="39.58%" headers="mcps1.2.3.1.1 "><p id="p1852073911466"><a name="p1852073911466"></a><a name="p1852073911466"></a>调用OpenAPI恢复集群</p>
</td>
<td class="cellrowborder" valign="top" width="60.419999999999995%" headers="mcps1.2.3.1.2 "><p id="p1520173934619"><a name="p1520173934619"></a><a name="p1520173934619"></a>"dws:openAPISnapshot:restore"</p>
</td>
</tr>
</tbody>
</table>

