# 修改数据库参数<a name="ZH-CN_TOPIC_0000001455917057"></a>

集群创建成功后，用户可以根据实际需要修改集群的数据库参数。在GaussDB\(DWS\) 管理控制台，您可以查看或设置一些常用的数据库参数，详情请参见[操作步骤](#section10522114017574)。如需查看或设置其他数据库参数，您可以通过SQL命令的方式，详情请参见[配置GUC参数](https://support.huaweicloud.com/devg-dws/dws_04_0885.html)。

## 前提条件<a name="section1322414592413"></a>

只有当集群无运行中的任务时，才能修改参数。

## 操作步骤<a name="section10522114017574"></a>

1.  登录GaussDB\(DWS\) 管理控制台。
2.  在左侧导航栏中，单击“集群管理“。
3.  在集群列表中找到所需要的集群，单击集群名称，进入“集群详情“页面。
4.  单击“参数修改“页签，修改相应的参数值，然后单击“保存“。

    ![](figures/zh-cn_image_0000001405637162.png)

    ![](figures/zh-cn_image_0000001455717005.png)

5.  在“修改预览“窗口，确认修改无误后，单击“保存“。
6.  用户可根据修改参数所在行的“是否重启集群”列，判断集群是否进行重启操作。

    ![](figures/zh-cn_image_0000001455836981.png)

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >-   若修改参数无需进行重启集群操作，则参数修改后立即生效。
    >-   若修改参数需进行重启集群操作，参数修改任务下发成功后页面显示修改后的参数值，待集群重启成功后修改的参数值生效；同时集群状态会显示”待重启”并禁用部分运维操作，重启集群后状态会恢复正常。


## 参数说明<a name="section926416313488"></a>

由于数据库参数较多，下表仅显示部分参数说明，用户可在控制台集群参数修改页面搜索查看，操作详情请参见[操作步骤](#section10522114017574)。

>![](public_sys-resources/icon-note.gif) **说明：** 
>以下参数默认值仅为参考值，具体与当前集群版本有关。详情请参见《数据仓库服务开发指南》的[GUC参数](https://support.huaweicloud.com/devg-dws/dws_04_0883.html)章节。

**表 1**  参数说明

<a name="table122717208620"></a>
<table><thead align="left"><tr id="row92716201567"><th class="cellrowborder" valign="top" width="24.752475247524753%" id="mcps1.2.4.1.1"><p id="p627820868"><a name="p627820868"></a><a name="p627820868"></a><strong id="b192968471772"><a name="b192968471772"></a><a name="b192968471772"></a>参数名称</strong></p>
</th>
<th class="cellrowborder" valign="top" width="57.821782178217816%" id="mcps1.2.4.1.2"><p id="p22722018611"><a name="p22722018611"></a><a name="p22722018611"></a><strong id="b6296747077"><a name="b6296747077"></a><a name="b6296747077"></a>参数描述</strong></p>
</th>
<th class="cellrowborder" valign="top" width="17.425742574257423%" id="mcps1.2.4.1.3"><p id="p162719204610"><a name="p162719204610"></a><a name="p162719204610"></a><strong id="b429614479717"><a name="b429614479717"></a><a name="b429614479717"></a>默认值</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="row1632012371100"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p11192748603"><a name="p11192748603"></a><a name="p11192748603"></a>session_timeout</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p2192164816011"><a name="p2192164816011"></a><a name="p2192164816011"></a>Session闲置超时时间，单位为秒，0表示关闭超时限制。取值范围：0 ~ 86400。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1519217481109"><a name="p1519217481109"></a><a name="p1519217481109"></a>600</p>
</td>
</tr>
<tr id="row7775151941619"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p1527192012613"><a name="p1527192012613"></a><a name="p1527192012613"></a>datestyle</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p138941459514"><a name="p138941459514"></a><a name="p138941459514"></a>设置日期和时间值的显示格式。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p02720201769"><a name="p02720201769"></a><a name="p02720201769"></a>ISO,MDY</p>
</td>
</tr>
<tr id="row82351014638"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p617193515310"><a name="p617193515310"></a><a name="p617193515310"></a>failed_login_attempts</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p917163516310"><a name="p917163516310"></a><a name="p917163516310"></a>输入密码错误的次数达到该参数所设置的值时，帐户将会被自动锁定。配置为0时表示不限制密码输入错误的次数。取值范围：0 ~ 1000。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1717135237"><a name="p1717135237"></a><a name="p1717135237"></a>10</p>
</td>
</tr>
<tr id="row19369518336"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p19571643632"><a name="p19571643632"></a><a name="p19571643632"></a>timezone</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1357119431839"><a name="p1357119431839"></a><a name="p1357119431839"></a>设置显示和解释时间类型数值时使用的时区。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p15711433312"><a name="p15711433312"></a><a name="p15711433312"></a>UTC</p>
</td>
</tr>
<tr id="row12638592033"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p1737418567318"><a name="p1737418567318"></a><a name="p1737418567318"></a>log_timezone</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p10374125618316"><a name="p10374125618316"></a><a name="p10374125618316"></a>设置服务器写日志文件时使用的时区。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1837415563316"><a name="p1837415563316"></a><a name="p1837415563316"></a>UTC</p>
</td>
</tr>
<tr id="row25788021713"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p5591201819177"><a name="p5591201819177"></a><a name="p5591201819177"></a>enable_resource_record</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1591181861720"><a name="p1591181861720"></a><a name="p1591181861720"></a>设置是否开启资源记录功能。</p>
<p id="p1559121831718"><a name="p1559121831718"></a><a name="p1559121831718"></a>当SQL语句实际执行时间大于resource_track_duration参数值（默认为60s，可自行设置）时，监控信息将会归档。</p>
<p id="p1591121871720"><a name="p1591121871720"></a><a name="p1591121871720"></a>此功能开启后会引起存储空间膨胀及轻微性能影响，不用时请关闭。</p>
<div class="note" id="note15591101820174"><a name="note15591101820174"></a><a name="note15591101820174"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="ul1659251813173"></a><a name="ul1659251813173"></a><ul id="ul1659251813173"><li>归档：监控信息保存在history视图，归档在info表。归档时间为三分钟，归档后history视图中的记录会被清除。</li><li>history视图GS_WLM_SESSION_HISTORY，对应存入info表GS_WLM_SESSION_INFO。</li><li>history视图GS_WLM_OPERATOR_HISTORY，对应存入info表GS_WLM_OPERATOR_INFO。</li></ul>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1759261801717"><a name="p1759261801717"></a><a name="p1759261801717"></a>off</p>
</td>
</tr>
<tr id="row9271201464"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p99367618710"><a name="p99367618710"></a><a name="p99367618710"></a>query_dop</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p952165575012"><a name="p952165575012"></a><a name="p952165575012"></a>用户自定义的查询并行度。</p>
<a name="ul89106417554"></a><a name="ul89106417554"></a><ul id="ul89106417554"><li>配置为0表示查询并行度自适应。</li><li>配置为1表示查询不并行。</li><li>配置为2表示查询并行度为2。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1327020962"><a name="p1327020962"></a><a name="p1327020962"></a>0</p>
</td>
</tr>
<tr id="row6271820468"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p1279810475715"><a name="p1279810475715"></a><a name="p1279810475715"></a>resource_track_cost</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1179864165711"><a name="p1179864165711"></a><a name="p1179864165711"></a>设置对语句进行资源监控的最小执行代价。值为-1或者执行语句代价小于10时，不进行资源监控。值大于等于0时，执行语句的代价大于等于10并且超过这个参数的设定值就会进行资源监控。</p>
<p id="p03871622016"><a name="p03871622016"></a><a name="p03871622016"></a>SQL语句的预估执行代价可通过执行SQL命令Explain进行查询。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p197986420575"><a name="p197986420575"></a><a name="p197986420575"></a>100000</p>
</td>
</tr>
<tr id="row24934861917"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p15959724161415"><a name="p15959724161415"></a><a name="p15959724161415"></a>resource_track_duration</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p4959162414141"><a name="p4959162414141"></a><a name="p4959162414141"></a>设置当前会话资源监控实时视图中记录的语句执行结束后进行归档的最小执行时间，单位为秒。</p>
<a name="ul295922416142"></a><a name="ul295922416142"></a><ul id="ul295922416142"><li>值为0时，资源监控实时视图中记录的所有语句都会进行历史信息归档。</li><li>值大于0时，资源监控实时视图中记录的语句的执行时间超过设定值就会进行历史信息归档。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p5960224131415"><a name="p5960224131415"></a><a name="p5960224131415"></a>60</p>
</td>
</tr>
<tr id="row129915481845"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p32861389515"><a name="p32861389515"></a><a name="p32861389515"></a>password_effect_time</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p82863816516"><a name="p82863816516"></a><a name="p82863816516"></a>设置帐户密码的有效时间，临近或超过有效期系统会提示用户修改密码。</p>
<p id="p18286181151"><a name="p18286181151"></a><a name="p18286181151"></a>取值范围为0 ~999，单位为天。设置为0表示不开启有效期限制功能。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p18286681554"><a name="p18286681554"></a><a name="p18286681554"></a>90</p>
</td>
</tr>
<tr id="row157152131359"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p171514132520"><a name="p171514132520"></a><a name="p171514132520"></a>update_lockwait_timeout</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1265852583316"><a name="p1265852583316"></a><a name="p1265852583316"></a>该参数控制并发更新同一行时单个锁的最长等待时间。当申请的锁等待时间超过设定值时，系统会报错。0表示不等待，有锁时直接报错，单位为毫秒。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p9715101311520"><a name="p9715101311520"></a><a name="p9715101311520"></a>120000</p>
</td>
</tr>
<tr id="row166561350135913"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p7657750195917"><a name="p7657750195917"></a><a name="p7657750195917"></a>enable_resource_track</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p14658175085920"><a name="p14658175085920"></a><a name="p14658175085920"></a>设置是否开启资源监控功能。开启后可以对SQL语句进行监控。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p176589508591"><a name="p176589508591"></a><a name="p176589508591"></a>on</p>
</td>
</tr>
<tr id="row2981103432718"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p209811348271"><a name="p209811348271"></a><a name="p209811348271"></a>password_policy</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p104531490138"><a name="p104531490138"></a><a name="p104531490138"></a>使用CREATE ROLE/USER命令创建或ALTER ROLE/USER命令修改GaussDB(DWS)帐户时，该参数决定是否进行密码复杂度检查。</p>
<a name="ul1094871714136"></a><a name="ul1094871714136"></a><ul id="ul1094871714136"><li>0表示不采用任何密码复杂度策略。</li><li>1表示采用默认密码复杂度校验策略。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p15981183442719"><a name="p15981183442719"></a><a name="p15981183442719"></a>1</p>
</td>
</tr>
<tr id="row57721813154619"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p167734139468"><a name="p167734139468"></a><a name="p167734139468"></a>password_reuse_time</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p52691212197"><a name="p52691212197"></a><a name="p52691212197"></a>在使用ALTER USER或ALTER ROLE修改用户密码时，该参数指定是否对新密码进行可重用天数检查。取值范围：0~3650，单位为天。</p>
<a name="ul28651948171910"></a><a name="ul28651948171910"></a><ul id="ul28651948171910"><li>0表示不检查密码可重用天数。</li><li>正数表示新密码不能为该值指定的天数内使用过的密码。</li></ul>
<div class="note" id="note16503202014193"><a name="note16503202014193"></a><a name="note16503202014193"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p054202061413"><a name="p054202061413"></a><a name="p054202061413"></a>修改密码时会检查配置参数password_reuse_time和password_reuse_max。</p>
<a name="ul4228143112815"></a><a name="ul4228143112815"></a><ul id="ul4228143112815"><li>password_reuse_time和password_reuse_max只要满足其中任一个为正数时，即认为密码可重用。</li><li>password_reuse_time为0时，表示不限制密码重用天数，仅限制密码重用次数。</li><li>password_reuse_time和password_reuse_max都为0时，表示不对密码重用进行限制。</li></ul>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p6773121384613"><a name="p6773121384613"></a><a name="p6773121384613"></a>60</p>
</td>
</tr>
<tr id="row97271944174914"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p5727134419496"><a name="p5727134419496"></a><a name="p5727134419496"></a>password_reuse_max</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p15216313292"><a name="p15216313292"></a><a name="p15216313292"></a>在使用ALTER USER或ALTER ROLE修改用户密码时，该参数指定是否对新密码进行可重用次数检查。</p>
<a name="ul18616194719292"></a><a name="ul18616194719292"></a><ul id="ul18616194719292"><li>0表示不检查密码可重用次数。</li><li>正整数表示新密码不能为该值指定的次数内使用过的密码。</li></ul>
<div class="note" id="note127308537309"><a name="note127308537309"></a><a name="note127308537309"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p166653653118"><a name="p166653653118"></a><a name="p166653653118"></a>修改密码时会检查配置参数password_reuse_time和password_reuse_max。</p>
<a name="ul46669653116"></a><a name="ul46669653116"></a><ul id="ul46669653116"><li>password_reuse_time和password_reuse_max只要满足其中任一个为正数时，即认为密码可重用。</li><li>password_reuse_max为0时，表示不限制密码重用次数，仅限制密码重用天数。</li><li>password_reuse_time和password_reuse_max都为0时，表示不对密码重用进行限制。</li></ul>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1572744424915"><a name="p1572744424915"></a><a name="p1572744424915"></a>0</p>
</td>
</tr>
<tr id="row20706918532"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p370712117539"><a name="p370712117539"></a><a name="p370712117539"></a>password_lock_time</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p11473181853215"><a name="p11473181853215"></a><a name="p11473181853215"></a>该参数指定帐户被锁定后自动解锁的时间。</p>
<a name="ul1361613462329"></a><a name="ul1361613462329"></a><ul id="ul1361613462329"><li>0表示密码验证失败时，自动锁定功能不生效。</li><li>正数表示帐户被锁定后，当锁定时间超过该参数设定的值时，帐户将会被自行解锁。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p19707118533"><a name="p19707118533"></a><a name="p19707118533"></a>1</p>
</td>
</tr>
<tr id="row244112281005"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p134415281706"><a name="p134415281706"></a><a name="p134415281706"></a>password_encryption_type</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p73551210359"><a name="p73551210359"></a><a name="p73551210359"></a>该字段决定采用何种加密方式对用户密码进行加密存储。</p>
<a name="ul7436440173516"></a><a name="ul7436440173516"></a><ul id="ul7436440173516"><li>0表示采用md5方式对密码加密。</li><li>1表示采用sha256方式对密码加密，兼容postgres客户端的md5用户认证方式。</li><li>2表示采用sha256方式对密码加密。md5为不安全的加密算法，不建议用户使用。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p4441528803"><a name="p4441528803"></a><a name="p4441528803"></a>2</p>
</td>
</tr>
<tr id="row18401124514518"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p240174515510"><a name="p240174515510"></a><a name="p240174515510"></a>password_notify_time</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p13899131643714"><a name="p13899131643714"></a><a name="p13899131643714"></a>该字段决定帐户密码到期前提醒的天数。</p>
<a name="ul99138299375"></a><a name="ul99138299375"></a><ul id="ul99138299375"><li>0表示不开启提醒功能。</li><li>1~999表示帐户密码到期前提醒的天数。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p154018458517"><a name="p154018458517"></a><a name="p154018458517"></a>7</p>
</td>
</tr>
<tr id="row15722204114610"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p1072213411662"><a name="p1072213411662"></a><a name="p1072213411662"></a>enable_stateless_pooler_reuse</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p748114376386"><a name="p748114376386"></a><a name="p748114376386"></a>pooler复用切换开关，重启集群生效。</p>
<a name="ul194517344012"></a><a name="ul194517344012"></a><ul id="ul194517344012"><li>on表示使用pooler复用模式。</li><li>off表示关闭pooler复用模式。</li></ul>
<div class="note" id="note18480150163819"><a name="note18480150163819"></a><a name="note18480150163819"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p1348075013814"><a name="p1348075013814"></a><a name="p1348075013814"></a>CN和DN需要同步设置。如果CN设置为off，DN设置为on时会导致集群不能正常通信，因此必须对该参数做CN和DN全局相同的配置，重启集群才会生效。</p>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p7722194115610"><a name="p7722194115610"></a><a name="p7722194115610"></a>off</p>
</td>
</tr>
<tr id="row199878017108"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p1398720181019"><a name="p1398720181019"></a><a name="p1398720181019"></a>work_mem</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1161418485316"><a name="p1161418485316"></a><a name="p1161418485316"></a>设置内部排序操作和Hash表在开始写入临时磁盘文件之前使用的内存大小，单位为KB。</p>
<p id="p18383208125312"><a name="p18383208125312"></a><a name="p18383208125312"></a>ORDER BY，DISTINCT和merge joins都要用到排序操作。</p>
<p id="p62109208576"><a name="p62109208576"></a><a name="p62109208576"></a>Hash表在散列连接、散列为基础的聚集、散列为基础的IN子查询处理中都要用到。</p>
<p id="p89871001106"><a name="p89871001106"></a><a name="p89871001106"></a>对于复杂的查询，可能会同时并发运行好几个排序或者散列操作，每个都可以使用此参数所声明的内存量，不足时会使用临时文件。同样，好几个正在运行的会话可能会同时进行排序操作。因此使用的总内存可能是work_mem的好几倍。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1898750201012"><a name="p1898750201012"></a><a name="p1898750201012"></a>64MB</p>
</td>
</tr>
<tr id="row1268601512132"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p36869155132"><a name="p36869155132"></a><a name="p36869155132"></a>maintenance_work_mem</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p126863158136"><a name="p126863158136"></a><a name="p126863158136"></a>设置在维护性操作（比如VACUUM、CREATE INDEX、ALTER TABLE ADD FOREIGN KEY等中可使用的最大的内存，单位为KB。</p>
<div class="note" id="note855682385811"><a name="note855682385811"></a><a name="note855682385811"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p1355652365813"><a name="p1355652365813"></a><a name="p1355652365813"></a>该参数的设置会影响VACUUM、VACUUMFULL、CLUSTER、CREATE INDEX的执行效率。</p>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p36861415131318"><a name="p36861415131318"></a><a name="p36861415131318"></a>128MB</p>
</td>
</tr>
<tr id="row925355615311"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p102532056639"><a name="p102532056639"></a><a name="p102532056639"></a>enable_orc_cache</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p16893191417116"><a name="p16893191417116"></a><a name="p16893191417116"></a>设置是否允许在初始化cstore_buffers时，将1/4的cstore_buffers空间预留，用于缓存orc元数据。</p>
<a name="ul415615291316"></a><a name="ul415615291316"></a><ul id="ul415615291316"><li>on表示开启缓存orc元数据，可提升hdfs表的查询性能，但是会占用列存buffer资源，导致列存性能下降。</li><li>off表示关闭缓存orc元数据。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p82531356737"><a name="p82531356737"></a><a name="p82531356737"></a>on</p>
</td>
</tr>
<tr id="row27207121190"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p972119120916"><a name="p972119120916"></a><a name="p972119120916"></a>sql_use_spacelimit</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p472112121196"><a name="p472112121196"></a><a name="p472112121196"></a>限制单个SQL在单个DN上，触发落盘操作时，落盘文件的空间大小，管控的空间包括普通表、临时表及中间结果集落盘占用的空间，单位为KB。其中-1表示没有限制。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p197211012297"><a name="p197211012297"></a><a name="p197211012297"></a>-1</p>
</td>
</tr>
<tr id="row434631915916"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p143461619894"><a name="p143461619894"></a><a name="p143461619894"></a>enable_bitmapscan</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1157161317213"><a name="p1157161317213"></a><a name="p1157161317213"></a>控制优化器对位图扫描规划类型的使用。</p>
<a name="ul1592617422028"></a><a name="ul1592617422028"></a><ul id="ul1592617422028"><li>on表示使用。</li><li>off表示不使用。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1034601919917"><a name="p1034601919917"></a><a name="p1034601919917"></a>on</p>
</td>
</tr>
<tr id="row1634617191696"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p12346319496"><a name="p12346319496"></a><a name="p12346319496"></a>enable_hashagg</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1653218218"><a name="p1653218218"></a><a name="p1653218218"></a>控制优化器对Hash聚集规划类型的使用。</p>
<a name="ul1533474712218"></a><a name="ul1533474712218"></a><ul id="ul1533474712218"><li>on表示使用。</li><li>off表示不使用。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p234619191294"><a name="p234619191294"></a><a name="p234619191294"></a>on</p>
</td>
</tr>
<tr id="row1655418267919"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p35549261990"><a name="p35549261990"></a><a name="p35549261990"></a>enable_hashjoin</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p288018284211"><a name="p288018284211"></a><a name="p288018284211"></a>控制优化器对Hash连接规划类型的使用。</p>
<a name="ul973515522022"></a><a name="ul973515522022"></a><ul id="ul973515522022"><li>on表示使用。</li><li>off表示不使用。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p55541262916"><a name="p55541262916"></a><a name="p55541262916"></a>on</p>
</td>
</tr>
<tr id="row17554126692"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p125544264911"><a name="p125544264911"></a><a name="p125544264911"></a>enable_indexscan</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p3475105616211"><a name="p3475105616211"></a><a name="p3475105616211"></a>控制优化器对索引扫描规划类型的使用。</p>
<a name="ul159021923439"></a><a name="ul159021923439"></a><ul id="ul159021923439"><li>on表示使用。</li><li>off表示不使用。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p155420261793"><a name="p155420261793"></a><a name="p155420261793"></a>on</p>
</td>
</tr>
<tr id="row135541261092"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p355417261998"><a name="p355417261998"></a><a name="p355417261998"></a>enable_indexonlyscan</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p02754938"><a name="p02754938"></a><a name="p02754938"></a>控制优化器对仅索引扫描规划类型的使用。</p>
<a name="ul229616292313"></a><a name="ul229616292313"></a><ul id="ul229616292313"><li>on表示使用。</li><li>off表示不使用。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1855420261798"><a name="p1855420261798"></a><a name="p1855420261798"></a>on</p>
</td>
</tr>
<tr id="row1943633314918"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p134361933998"><a name="p134361933998"></a><a name="p134361933998"></a>enable_mergejoin</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p214161219318"><a name="p214161219318"></a><a name="p214161219318"></a>控制优化器对融合连接规划类型的使用。</p>
<a name="ul145047348319"></a><a name="ul145047348319"></a><ul id="ul145047348319"><li>on表示使用。</li><li>off表示不使用。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p12436203319920"><a name="p12436203319920"></a><a name="p12436203319920"></a>off</p>
</td>
</tr>
<tr id="row1143653310916"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p114361333797"><a name="p114361333797"></a><a name="p114361333797"></a>enable_nestloop</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p20549850355"><a name="p20549850355"></a><a name="p20549850355"></a>控制优化器对内表全表扫描嵌套循环连接规划类型的使用。虽然不能完全消除嵌套循环连接，但关闭该参数会使优化器在存在其他方法的时候优先选择其他方法。</p>
<a name="ul19721224611"></a><a name="ul19721224611"></a><ul id="ul19721224611"><li>on表示使用。</li><li>off表示不使用。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p54361833690"><a name="p54361833690"></a><a name="p54361833690"></a>off</p>
</td>
</tr>
<tr id="row174366333914"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p17436113313918"><a name="p17436113313918"></a><a name="p17436113313918"></a>enable_seqscan</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p127171445177"><a name="p127171445177"></a><a name="p127171445177"></a>控制优化器对顺序扫描规划类型的使用。虽然不能完全消除顺序扫描，但关闭该参数会让优化器在存在其他方法的时候优先选择其他方法。</p>
<a name="ul881210388815"></a><a name="ul881210388815"></a><ul id="ul881210388815"><li>on表示使用。</li><li>off表示不使用。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p54367334919"><a name="p54367334919"></a><a name="p54367334919"></a>on</p>
</td>
</tr>
<tr id="row1943619333910"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p0436183318911"><a name="p0436183318911"></a><a name="p0436183318911"></a>enable_tidscan</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p85841241489"><a name="p85841241489"></a><a name="p85841241489"></a>控制优化器对TID扫描规划类型的使用。</p>
<a name="ul1699719481881"></a><a name="ul1699719481881"></a><ul id="ul1699719481881"><li>on表示使用。</li><li>off表示不使用。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1443615332093"><a name="p1443615332093"></a><a name="p1443615332093"></a>on</p>
</td>
</tr>
<tr id="row24362033994"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p74361333194"><a name="p74361333194"></a><a name="p74361333194"></a>enable_kill_query</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1852817192093"><a name="p1852817192093"></a><a name="p1852817192093"></a>CASCADE模式删除用户时，会删除此用户拥有的所有对象。此参数标识是否允许在删除用户的时候，取消锁定此用户所属对象的query。</p>
<a name="ul4566833392"></a><a name="ul4566833392"></a><ul id="ul4566833392"><li>on表示允许取消锁定。</li><li>off表示不允许取消锁定。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1743613331913"><a name="p1743613331913"></a><a name="p1743613331913"></a>off</p>
</td>
</tr>
<tr id="row194361233192"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p24371833795"><a name="p24371833795"></a><a name="p24371833795"></a>enable_vector_engine</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p149420017106"><a name="p149420017106"></a><a name="p149420017106"></a>控制优化器对向量化执行引擎的使用。</p>
<a name="ul1747611361013"></a><a name="ul1747611361013"></a><ul id="ul1747611361013"><li>on表示使用。</li><li>off表示不使用。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p12437113311912"><a name="p12437113311912"></a><a name="p12437113311912"></a>on</p>
</td>
</tr>
<tr id="row114061046195511"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p1540617466555"><a name="p1540617466555"></a><a name="p1540617466555"></a>enable_broadcast</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p046632021015"><a name="p046632021015"></a><a name="p046632021015"></a>控制优化器对stream代价估算时对broadcast分布方式的使用。</p>
<a name="ul13448183010102"></a><a name="ul13448183010102"></a><ul id="ul13448183010102"><li>on表示使用。</li><li>off表示不使用。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1740624615516"><a name="p1740624615516"></a><a name="p1740624615516"></a>on</p>
</td>
</tr>
<tr id="row23347565116"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p9334456191117"><a name="p9334456191117"></a><a name="p9334456191117"></a>skew_option</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p997463514107"><a name="p997463514107"></a><a name="p997463514107"></a>控制是否使用优化策略。</p>
<a name="ul713181131113"></a><a name="ul713181131113"></a><ul id="ul713181131113"><li>off：关闭策略。</li><li>normal：采用激进策略。对于不确定是否出现倾斜的场景，认为存在倾斜，并进行相应优化。</li><li>lazy：采用保守策略。对于不确定是否出现倾斜场景，认为不存在倾斜，不进行优化。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p18334115615118"><a name="p18334115615118"></a><a name="p18334115615118"></a>normal</p>
</td>
</tr>
<tr id="row1042611517115"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p7426115115111"><a name="p7426115115111"></a><a name="p7426115115111"></a>default_statistics_target</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p174261251131113"><a name="p174261251131113"></a><a name="p174261251131113"></a>为没有用ALTER TABLE SET STATISTICS设置字段目标的表设置缺省统计目标。此参数设置为正数是代表统计信息的样本数量，为负数时，代表使用百分比的形式设置统计目标，负数转换为对应的百分比，即-5代表5%。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p10426551121115"><a name="p10426551121115"></a><a name="p10426551121115"></a>100</p>
</td>
</tr>
<tr id="row13471645101111"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p143481245151119"><a name="p143481245151119"></a><a name="p143481245151119"></a>enable_codegen</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p326022210119"><a name="p326022210119"></a><a name="p326022210119"></a>标识是否允许开启代码生成优化，目前代码生成使用的是LLVM优化。</p>
<a name="ul9247123101117"></a><a name="ul9247123101117"></a><ul id="ul9247123101117"><li>on表示允许开启代码生成优化。</li><li>off表示不允许开启代码生成优化。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p10348114521115"><a name="p10348114521115"></a><a name="p10348114521115"></a>on</p>
</td>
</tr>
<tr id="row62960389323"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p42961838153215"><a name="p42961838153215"></a><a name="p42961838153215"></a>autoanalyze</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p19016270126"><a name="p19016270126"></a><a name="p19016270126"></a>标识是否允许在生成计划的时候，对于没有统计信息的表进行统计信息自动收集。</p>
<a name="ul743610406122"></a><a name="ul743610406122"></a><ul id="ul743610406122"><li>on表示允许自动进行统计信息收集。</li><li>off表示不允许自动进行统计信息收集。</li></ul>
<div class="note" id="note34484455122"><a name="note34484455122"></a><a name="note34484455122"></a><span class="notetitle"> 说明： </span><div class="notebody"><a name="ul3421823131313"></a><a name="ul3421823131313"></a><ul id="ul3421823131313"><li>当前不支持对外表触发autoanalyze，如需收集，需用户手动执行analyze操作。</li><li>不支持对带有ON COMMIT [DELETE ROWS|DROP]选项的临时表触发autoanalyze，如需收集，需用户手动执行analyze操作。</li><li>如果在autoanalyze某个表的过程中数据库发生异常，当数据库正常运行之后再执行语句有可能仍提示需要收集此表的统计信息。此时需要用户对该表手动执行一次analyze操作，以同步统计信息数据。</li></ul>
</div></div>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1729693873210"><a name="p1729693873210"></a><a name="p1729693873210"></a>off</p>
</td>
</tr>
<tr id="row1199223283213"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p09931532113220"><a name="p09931532113220"></a><a name="p09931532113220"></a>enable_sonic_hashagg</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p5571479145"><a name="p5571479145"></a><a name="p5571479145"></a>标识是否依据规则约束使用基于面向列的hash表设计的Hash Agg算子。</p>
<a name="ul145921169145"></a><a name="ul145921169145"></a><ul id="ul145921169145"><li>on表示在满足约束条件时使用基于面向列的hash表设计的Hash Agg算子。</li><li>off表示不使用面向列的hash表设计的Hash Agg算子。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p899316321327"><a name="p899316321327"></a><a name="p899316321327"></a>on</p>
</td>
</tr>
<tr id="row1427233913118"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p122721139161111"><a name="p122721139161111"></a><a name="p122721139161111"></a>log_hostname</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p5260734201714"><a name="p5260734201714"></a><a name="p5260734201714"></a>默认状态下，连接消息日志只显示正在连接主机的IP地址。打开此选项同时可以记录主机名。由于解析主机名可能需要一定的时间，可能影响数据库的性能。</p>
<a name="ul1153210232184"></a><a name="ul1153210232184"></a><ul id="ul1153210232184"><li>on表示可以同时记录主机名。</li><li>off表示不可以同时记录主机名。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p72721039151114"><a name="p72721039151114"></a><a name="p72721039151114"></a>off</p>
</td>
</tr>
<tr id="row57625131041"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p7762131320410"><a name="p7762131320410"></a><a name="p7762131320410"></a>max_active_statements</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p4762313643"><a name="p4762313643"></a><a name="p4762313643"></a>设置全局的最大并发数量。此参数只应用到CN，且针对一个CN上的执行作业。设置为-1和0表示对最大并发数不做限制。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p876231315412"><a name="p876231315412"></a><a name="p876231315412"></a>60</p>
</td>
</tr>
<tr id="row185241221044"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p25241421945"><a name="p25241421945"></a><a name="p25241421945"></a>enable_resource_track</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1852414211045"><a name="p1852414211045"></a><a name="p1852414211045"></a>是否开启资源监控功能。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p5524021447"><a name="p5524021447"></a><a name="p5524021447"></a>on</p>
</td>
</tr>
<tr id="row4524152118414"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p952410219410"><a name="p952410219410"></a><a name="p952410219410"></a>resource_track_level</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1596411536184"><a name="p1596411536184"></a><a name="p1596411536184"></a>设置当前会话的资源监控的等级。该参数只有当参数enable_resource_track为on时才有效。</p>
<a name="ul764361414196"></a><a name="ul764361414196"></a><ul id="ul764361414196"><li>none，不开启资源监控功能。</li><li>query，开启query级别资源监控功能，开启此功能会把SQL语句的计划信息（类似explain输出信息）记录到top SQL中。</li><li>perf，开启perf级别资源监控功能，开启此功能会把包含实际执行时间和执行行数的计划信息（类似explain analyze输出信息）记录到top SQL中。</li><li>operator，开启operator级别资源监控功能，开启此功能不仅会把包含实际执行时间和执行行数的信息记录到top SQL中，还会把算子级别执行信息刷新到top SQL中。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1452412213415"><a name="p1452412213415"></a><a name="p1452412213415"></a>query</p>
</td>
</tr>
<tr id="row121254311347"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p312515311249"><a name="p312515311249"></a><a name="p312515311249"></a>enable_dynamic_workload</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1397221951919"><a name="p1397221951919"></a><a name="p1397221951919"></a>是否开启动态负载管理功能。</p>
<a name="ul1665615524207"></a><a name="ul1665615524207"></a><ul id="ul1665615524207"><li>on表示打开动态负载管理功能。</li><li>off表示关闭动态负载管理功能。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p131262311241"><a name="p131262311241"></a><a name="p131262311241"></a>on</p>
</td>
</tr>
<tr id="row51269311242"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p3126831242"><a name="p3126831242"></a><a name="p3126831242"></a>topsql_retention_time</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p17678102762116"><a name="p17678102762116"></a><a name="p17678102762116"></a>设置历史TopSQL中gs_wlm_session_info和gs_wlm_operator_info表中数据的保存时间。单位为天。</p>
<a name="ul10368113617215"></a><a name="ul10368113617215"></a><ul id="ul10368113617215"><li>值为0时，表示数据永久保存。</li><li>值大于0时，表示数据能够保存的对应天数。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1612611311048"><a name="p1612611311048"></a><a name="p1612611311048"></a>0</p>
</td>
</tr>
<tr id="row31263315411"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p312613311743"><a name="p312613311743"></a><a name="p312613311743"></a>track_counts</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p42271615132512"><a name="p42271615132512"></a><a name="p42271615132512"></a>控制收集数据库活动的统计数据。</p>
<a name="ul62311624172511"></a><a name="ul62311624172511"></a><ul id="ul62311624172511"><li>on表示开启收集功能。</li><li>off表示关闭收集功能。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1512615319419"><a name="p1512615319419"></a><a name="p1512615319419"></a>off</p>
</td>
</tr>
<tr id="row512612314419"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p5126183117413"><a name="p5126183117413"></a><a name="p5126183117413"></a>autovacuum</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p280512293254"><a name="p280512293254"></a><a name="p280512293254"></a>控制数据库自动清理进程（autovacuum）的启动。自动清理进程运行的前提是将track_counts设置为on。</p>
<a name="ul186081037172519"></a><a name="ul186081037172519"></a><ul id="ul186081037172519"><li>on表示开启数据库自动清理进程。</li><li>off表示关闭数据库自动清理进程。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p181268316417"><a name="p181268316417"></a><a name="p181268316417"></a>off</p>
</td>
</tr>
<tr id="row11195943182711"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p619564311276"><a name="p619564311276"></a><a name="p619564311276"></a>autovacuum_mode</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p3627212202613"><a name="p3627212202613"></a><a name="p3627212202613"></a>该参数仅在autovacuum设置为on的场景下生效，它控制autoanalyze或autovacuum的打开情况。</p>
<a name="ul1488952762617"></a><a name="ul1488952762617"></a><ul id="ul1488952762617"><li>analyze表示只做autoanalyze。</li><li>vacuum表示只做autovacuum。</li><li>mix表示autoanalyze和autovacuum都做。</li><li>none表示二者都不做。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p619544317271"><a name="p619544317271"></a><a name="p619544317271"></a>mix</p>
</td>
</tr>
<tr id="row7507154982719"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p6508349122719"><a name="p6508349122719"></a><a name="p6508349122719"></a>autoanalyze_timeout</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p5508449192715"><a name="p5508449192715"></a><a name="p5508449192715"></a>设置autoanalyze的超时时间。在对某张表做autoanalyze时，如果该表的analyze时长超过了autoanalyze_timeout，则自动取消该表此次analyze，单位为秒。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p20508154917278"><a name="p20508154917278"></a><a name="p20508154917278"></a>5min</p>
</td>
</tr>
<tr id="row1650864932715"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p19508149192714"><a name="p19508149192714"></a><a name="p19508149192714"></a>autovacuum_io_limits</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p10508104992711"><a name="p10508104992711"></a><a name="p10508104992711"></a>控制autovacuum进程每秒触发IO的上限。其中-1表示不控制，而是使用系统默认控制组。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1750812497274"><a name="p1750812497274"></a><a name="p1750812497274"></a>-1</p>
</td>
</tr>
<tr id="row172411455202720"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p12241255152714"><a name="p12241255152714"></a><a name="p12241255152714"></a>autovacuum_max_workers</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p7241125512715"><a name="p7241125512715"></a><a name="p7241125512715"></a>设置能同时运行的自动清理线程的最大数量。其中0表示不会自动进行autovacuum。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1924112553274"><a name="p1924112553274"></a><a name="p1924112553274"></a>3</p>
</td>
</tr>
<tr id="row12241195514272"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p52416557278"><a name="p52416557278"></a><a name="p52416557278"></a>autovacuum_naptime</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p324195592713"><a name="p324195592713"></a><a name="p324195592713"></a>设置两次自动清理操作的时间间隔，单位为秒。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p124217553272"><a name="p124217553272"></a><a name="p124217553272"></a>10min</p>
</td>
</tr>
<tr id="row172420559271"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p16242105518271"><a name="p16242105518271"></a><a name="p16242105518271"></a>autovacuum_vacuum_threshold</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p14242195502719"><a name="p14242195502719"></a><a name="p14242195502719"></a>设置触发VACUUM的阈值。当表上被删除或更新的记录数超过设定的阈值时才会对这个表执行VACUUM操作。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1242205522714"><a name="p1242205522714"></a><a name="p1242205522714"></a>50</p>
</td>
</tr>
<tr id="row15242115512710"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p1324285512712"><a name="p1324285512712"></a><a name="p1324285512712"></a>autovacuum_analyze_threshold</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p18242105532714"><a name="p18242105532714"></a><a name="p18242105532714"></a>设置触发ANALYZE操作的阈值。当表上被删除、插入或更新的记录数超过设定的阈值时才会对这个表执行ANALYZE操作。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p32422557274"><a name="p32422557274"></a><a name="p32422557274"></a>50</p>
</td>
</tr>
<tr id="row121621132816"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p18161112814"><a name="p18161112814"></a><a name="p18161112814"></a>autovacuum_analyze_scale_factor</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1177114288"><a name="p1177114288"></a><a name="p1177114288"></a>设置触发一个ANALYZE时增加到autovacuum_analyze_threshold的表大小的缩放系数。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p181731172812"><a name="p181731172812"></a><a name="p181731172812"></a>0.1</p>
</td>
</tr>
<tr id="row31719116286"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p61713113288"><a name="p61713113288"></a><a name="p61713113288"></a>statement_timeout</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p2179119286"><a name="p2179119286"></a><a name="p2179119286"></a>当语句执行时间超过该参数设置的时间（从服务器收到命令时开始计时）时，该语句将会报错并退出执行，单位为毫秒。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1117131102819"><a name="p1117131102819"></a><a name="p1117131102819"></a>0</p>
</td>
</tr>
<tr id="row917181172814"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p201710115288"><a name="p201710115288"></a><a name="p201710115288"></a>deadlock_timeout</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p131711142814"><a name="p131711142814"></a><a name="p131711142814"></a>设置死锁超时检测时间。当申请的锁超过设定值时，系统会检查是否产生了死锁，单位为毫秒。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p16174114289"><a name="p16174114289"></a><a name="p16174114289"></a>1s</p>
</td>
</tr>
<tr id="row71715112287"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p5175142817"><a name="p5175142817"></a><a name="p5175142817"></a>lockwait_timeout</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p11179112288"><a name="p11179112288"></a><a name="p11179112288"></a>控制单个锁的最长等待时间。当申请的锁等待时间超过设定值时，系统会报错，单位为毫秒。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p18171118282"><a name="p18171118282"></a><a name="p18171118282"></a>20min</p>
</td>
</tr>
<tr id="row141714119289"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p191713116285"><a name="p191713116285"></a><a name="p191713116285"></a>max_query_retry_times</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p817191102816"><a name="p817191102816"></a><a name="p817191102816"></a>指定SQL语句出错自动重试功能的最大重跑次数（目前支持重跑的错误类型为“Connection reset by peer”、“Lock wait timeout”和“Connection timed out”等，设定为0时关闭重跑功能。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p31718116281"><a name="p31718116281"></a><a name="p31718116281"></a>6</p>
</td>
</tr>
<tr id="row31717172817"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p20170117287"><a name="p20170117287"></a><a name="p20170117287"></a>max_pool_size</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1717710282"><a name="p1717710282"></a><a name="p1717710282"></a>CN的连接池与其它某个CN/DN的最大连接数。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p15171511283"><a name="p15171511283"></a><a name="p15171511283"></a>800</p>
</td>
</tr>
<tr id="row5172119286"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p10171119285"><a name="p10171119285"></a><a name="p10171119285"></a>enable_gtm_free</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1117615286"><a name="p1117615286"></a><a name="p1117615286"></a>大并发场景下同一时刻存在活跃事务较多，GTM下发的快照变大且快照请求变多的情况下，瓶颈卡在GTM与CN通讯的网络上。为消除该瓶颈，引入GTM-FREE模式。取消CN和GTM的交互，取消CN下发GTM获取的事务信息给DN。CN只向各个DN发送query，各个DN由本地产生快照及xid等信息，开启该参数支持分布式事务读最终一致性，即分布式事务只有写外部一致性，不具有读外部一致性。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p17171919281"><a name="p17171919281"></a><a name="p17171919281"></a>off</p>
</td>
</tr>
<tr id="row617511289"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p71714162819"><a name="p71714162819"></a><a name="p71714162819"></a>enable_fast_query_shipping</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p81717116288"><a name="p81717116288"></a><a name="p81717116288"></a>控制查询优化器是否使用分布式框架。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p181717116288"><a name="p181717116288"></a><a name="p181717116288"></a>on</p>
</td>
</tr>
<tr id="row194851299310"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p44862091314"><a name="p44862091314"></a><a name="p44862091314"></a>enable_crc_check</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p144861492316"><a name="p144861492316"></a><a name="p144861492316"></a>设置是否允许开启数据校验功能。写入表数据时生成校验信息，读取表数据时检查校验信息。不建议用户修改设置。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p948629153117"><a name="p948629153117"></a><a name="p948629153117"></a>on</p>
</td>
</tr>
<tr id="row1148609193117"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p12486109123120"><a name="p12486109123120"></a><a name="p12486109123120"></a>explain_perf_mode</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p827105533319"><a name="p827105533319"></a><a name="p827105533319"></a>此参数用来指定explain的显示格式。</p>
<a name="ul87841622133415"></a><a name="ul87841622133415"></a><ul id="ul87841622133415"><li>normal：代表使用默认的打印格式。</li><li>pretty：代表使用GaussDB(DWS)改进后的新显示格式。新的格式层次清晰，计划包含了plan node id，性能分析简单直接。</li><li>summary：是在pretty的基础上增加了对打印信息的分析。</li><li>run：在summary的基础上，将统计的信息输出到csv格式的文件中，以便于进一步分析。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p9486798319"><a name="p9486798319"></a><a name="p9486798319"></a>pretty</p>
</td>
</tr>
<tr id="row1148619983112"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p16486392316"><a name="p16486392316"></a><a name="p16486392316"></a>udf_memory_limit</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p1848620917315"><a name="p1848620917315"></a><a name="p1848620917315"></a>控制每个CN、DN执行UDF时可用的最大物理内存量，单位为KB。</p>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p1648610910313"><a name="p1648610910313"></a><a name="p1648610910313"></a>200MB</p>
</td>
</tr>
<tr id="row14486490313"><td class="cellrowborder" valign="top" width="24.752475247524753%" headers="mcps1.2.4.1.1 "><p id="p24861196311"><a name="p24861196311"></a><a name="p24861196311"></a>default_transaction_read_only</p>
</td>
<td class="cellrowborder" valign="top" width="57.821782178217816%" headers="mcps1.2.4.1.2 "><p id="p114392010375"><a name="p114392010375"></a><a name="p114392010375"></a>设置每个新创建事务是否是只读状态。</p>
<a name="ul6320813376"></a><a name="ul6320813376"></a><ul id="ul6320813376"><li>on表示只读状态。</li><li>off表示非只读状态。</li></ul>
</td>
<td class="cellrowborder" valign="top" width="17.425742574257423%" headers="mcps1.2.4.1.3 "><p id="p3486494310"><a name="p3486494310"></a><a name="p3486494310"></a>off</p>
</td>
</tr>
</tbody>
</table>

