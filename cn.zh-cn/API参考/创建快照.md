# 创建快照<a name="ZH-CN_TOPIC_0000001098656810"></a>

## 功能介绍<a name="sca64f36627a3417bbeb0c43855a40ce7"></a>

该接口用于为指定集群创建快照。

## 调试<a name="section16191247193116"></a>

您可以在[API Explorer](https://apiexplorer.developer.huaweicloud.com/apiexplorer/doc?product=DWS&api=CreateSnapshot)调试该接口。

## URI<a name="s79bb432d7cfa4d6ba3fe910602033e78"></a>

-   URI 格式

    ```
    POST /v1.0/{project_id}/snapshots
    ```

-   参数说明

    **表 1**  URI参数说明

    <a name="t877e0dac894f448f87cc0782da0ae4a4"></a>
    <table><thead align="left"><tr id="r91eb15e2eb394521bdd6a7d42d36b68c"><th class="cellrowborder" valign="top" width="15.76%" id="mcps1.2.5.1.1"><p id="af98c37784bf6478b8638e51591fdbaa2"><a name="af98c37784bf6478b8638e51591fdbaa2"></a><a name="af98c37784bf6478b8638e51591fdbaa2"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="9.94%" id="mcps1.2.5.1.2"><p id="a5332e63e3c1348f4893ed5a46e9054ad"><a name="a5332e63e3c1348f4893ed5a46e9054ad"></a><a name="a5332e63e3c1348f4893ed5a46e9054ad"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="12.479999999999999%" id="mcps1.2.5.1.3"><p id="a76fb4bdd350545839ea670ef978f82b9"><a name="a76fb4bdd350545839ea670ef978f82b9"></a><a name="a76fb4bdd350545839ea670ef978f82b9"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="61.82%" id="mcps1.2.5.1.4"><p id="a36d2b446e91f40669768b2b4b1af1b2c"><a name="a36d2b446e91f40669768b2b4b1af1b2c"></a><a name="a36d2b446e91f40669768b2b4b1af1b2c"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="r17094096c94e41c08fb927c01b191b6c"><td class="cellrowborder" valign="top" width="15.76%" headers="mcps1.2.5.1.1 "><p id="a843feba0476744298eb5f8e2b1f975bd"><a name="a843feba0476744298eb5f8e2b1f975bd"></a><a name="a843feba0476744298eb5f8e2b1f975bd"></a>project_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="9.94%" headers="mcps1.2.5.1.2 "><p id="ab8f64bdd2c7444e28c7a415c2331b54b"><a name="ab8f64bdd2c7444e28c7a415c2331b54b"></a><a name="ab8f64bdd2c7444e28c7a415c2331b54b"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="12.479999999999999%" headers="mcps1.2.5.1.3 "><p id="ac4291dc3fa3c46f3852e35622bab1bb5"><a name="ac4291dc3fa3c46f3852e35622bab1bb5"></a><a name="ac4291dc3fa3c46f3852e35622bab1bb5"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="61.82%" headers="mcps1.2.5.1.4 "><p id="p14202648155510"><a name="p14202648155510"></a><a name="p14202648155510"></a><span id="text1665163515339"><a name="text1665163515339"></a><a name="text1665163515339"></a>项目ID</span>。获取方法，请参见<a href="获取项目ID.md">获取项目ID</a>。</p>
    </td>
    </tr>
    </tbody>
    </table>


## 请求消息<a name="s21224531b3af41768965da75256b6574"></a>

-   请求样例

    ```
    POST /v1.0/89cd04f168b84af6be287f71730fdb4b/snapshots
    {
        "snapshot": {
           "name": "snapshot-3",
           "cluster_id": "44b277eb-39be-4921-be31-3d61b43651d7",
           "description": "Snapshot-3 description"
         }
    }
    ```


-   参数说明

    **表 2**  请求参数说明

    <a name="requestParameter"></a>
    <table><thead align="left"><tr id="row18236201214810"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p1123751219488"><a name="p1123751219488"></a><a name="p1123751219488"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p16238012134818"><a name="p16238012134818"></a><a name="p16238012134818"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p1924021212485"><a name="p1924021212485"></a><a name="p1924021212485"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p224110127481"><a name="p224110127481"></a><a name="p224110127481"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row523671234815"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p14242712204815"><a name="p14242712204815"></a><a name="p14242712204815"></a>snapshot</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p11243612144813"><a name="p11243612144813"></a><a name="p11243612144813"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1824481274818"><a name="p1824481274818"></a><a name="p1824481274818"></a><a href="#request_snapshot">Snapshot</a> object</p>
    </td>
    <td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1824512129484"><a name="p1824512129484"></a><a name="p1824512129484"></a>快照对象</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 3**  Snapshot

    <a name="request_snapshot"></a>
    <table><thead align="left"><tr id="row1246201204812"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p72481612114814"><a name="p72481612114814"></a><a name="p72481612114814"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p3249412204815"><a name="p3249412204815"></a><a name="p3249412204815"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p1250181264811"><a name="p1250181264811"></a><a name="p1250181264811"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p1925041224815"><a name="p1925041224815"></a><a name="p1925041224815"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row4247141210481"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p152513125482"><a name="p152513125482"></a><a name="p152513125482"></a>cluster_id</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1925161211483"><a name="p1925161211483"></a><a name="p1925161211483"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p14252912164810"><a name="p14252912164810"></a><a name="p14252912164810"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p2025314128487"><a name="p2025314128487"></a><a name="p2025314128487"></a>指定创建快照的集群ID。获取方法，请参见<a href="获取集群ID.md">获取集群ID</a>。</p>
    </td>
    </tr>
    <tr id="row1324718126488"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p122547126488"><a name="p122547126488"></a><a name="p122547126488"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p16255112194813"><a name="p16255112194813"></a><a name="p16255112194813"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p8256111218482"><a name="p8256111218482"></a><a name="p8256111218482"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p3798192820519"><a name="p3798192820519"></a><a name="p3798192820519"></a>快照名称，要求唯一性且必须以字母开头，不区分大小写，可以包含字母、数字、中划线或者下划线，不能包含其他的特殊字符，长度为4～64个字符。</p>
    </td>
    </tr>
    <tr id="row142475122489"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p13258101254817"><a name="p13258101254817"></a><a name="p13258101254817"></a>description</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p9261161217489"><a name="p9261161217489"></a><a name="p9261161217489"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1262121274812"><a name="p1262121274812"></a><a name="p1262121274812"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p426251216486"><a name="p426251216486"></a><a name="p426251216486"></a>快照描述，若不指定，描述为空。</p>
    </td>
    </tr>
    </tbody>
    </table>


## 响应消息<a name="s74ab9ad56efb4dddbd3dd843c2374513"></a>

-   响应样例

    ```
    status CODE 200
    {
        "snapshot": {
            "id": "2a4d0f86-67cd-408a-8b66-017454fb7793"
        }
    }
    ```

-   参数说明

    **表 4**  响应参数说明

    <a name="responseParameter"></a>
    <table><thead align="left"><tr id="row1826771274814"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p6269151274811"><a name="p6269151274811"></a><a name="p6269151274811"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p9269312104815"><a name="p9269312104815"></a><a name="p9269312104815"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p20270612144815"><a name="p20270612144815"></a><a name="p20270612144815"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1126721216486"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p827121212488"><a name="p827121212488"></a><a name="p827121212488"></a>snapshot</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p3271151212482"><a name="p3271151212482"></a><a name="p3271151212482"></a><a href="#response_snapshot_1">SnapshotResp</a> object</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p927221264813"><a name="p927221264813"></a><a name="p927221264813"></a>快照对象。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 5**  SnapshotResp

    <a name="response_snapshot_1"></a>
    <table><thead align="left"><tr id="row92731129483"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p1427641234819"><a name="p1427641234819"></a><a name="p1427641234819"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p3277512174815"><a name="p3277512174815"></a><a name="p3277512174815"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p10277212184819"><a name="p10277212184819"></a><a name="p10277212184819"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1927361244812"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p15278101284819"><a name="p15278101284819"></a><a name="p15278101284819"></a>id</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p172798125481"><a name="p172798125481"></a><a name="p172798125481"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p1427911214484"><a name="p1427911214484"></a><a name="p1427911214484"></a>快照ID。</p>
    </td>
    </tr>
    </tbody>
    </table>


## 状态码<a name="s763e6683944443b1a55793807c544818"></a>

-   正常

    200

-   异常

    **表 6**  返回值说明

    <a name="t1abefdff89ea4e27b3e5f7d7a5ec1fa9"></a>
    <table><thead align="left"><tr id="rd7dfd8d64b954a16a4a56cade6193a6c"><th class="cellrowborder" valign="top" width="26.179999999999996%" id="mcps1.2.3.1.1"><p id="a310555cdf51a47ec9666c91d4a5fe6f1"><a name="a310555cdf51a47ec9666c91d4a5fe6f1"></a><a name="a310555cdf51a47ec9666c91d4a5fe6f1"></a>返回值</p>
    </th>
    <th class="cellrowborder" valign="top" width="73.82%" id="mcps1.2.3.1.2"><p id="a5374003c95794b41b8e093fe8349c8b1"><a name="a5374003c95794b41b8e093fe8349c8b1"></a><a name="a5374003c95794b41b8e093fe8349c8b1"></a>描述</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="r966aab4dd72c469d9f67a7a628c75279"><td class="cellrowborder" valign="top" width="26.179999999999996%" headers="mcps1.2.3.1.1 "><p id="af4ae7e74b61a4c88a709a9634e381731"><a name="af4ae7e74b61a4c88a709a9634e381731"></a><a name="af4ae7e74b61a4c88a709a9634e381731"></a>400 Bad Request</p>
    </td>
    <td class="cellrowborder" valign="top" width="73.82%" headers="mcps1.2.3.1.2 "><p id="a508dc5f7ae3145c1a0ab59c7a59175a6"><a name="a508dc5f7ae3145c1a0ab59c7a59175a6"></a><a name="a508dc5f7ae3145c1a0ab59c7a59175a6"></a>请求错误。</p>
    </td>
    </tr>
    <tr id="r90009ad515fb4e789e9caee1a11fcf6b"><td class="cellrowborder" valign="top" width="26.179999999999996%" headers="mcps1.2.3.1.1 "><p id="a78ec7d4b7eb442d4810eed0cad311e72"><a name="a78ec7d4b7eb442d4810eed0cad311e72"></a><a name="a78ec7d4b7eb442d4810eed0cad311e72"></a>401 Unauthorized</p>
    </td>
    <td class="cellrowborder" valign="top" width="73.82%" headers="mcps1.2.3.1.2 "><p id="ae8ab0533d27a42ec881a7a4edfa5acb4"><a name="ae8ab0533d27a42ec881a7a4edfa5acb4"></a><a name="ae8ab0533d27a42ec881a7a4edfa5acb4"></a>鉴权失败。</p>
    </td>
    </tr>
    <tr id="rf1eeda5d71714397976d7bbd0c607077"><td class="cellrowborder" valign="top" width="26.179999999999996%" headers="mcps1.2.3.1.1 "><p id="a113ccbee51324030ac46e1d94bebd5da"><a name="a113ccbee51324030ac46e1d94bebd5da"></a><a name="a113ccbee51324030ac46e1d94bebd5da"></a>403 Forbidden</p>
    </td>
    <td class="cellrowborder" valign="top" width="73.82%" headers="mcps1.2.3.1.2 "><p id="a31f8f1d166774434a7d8567bd814dfdc"><a name="a31f8f1d166774434a7d8567bd814dfdc"></a><a name="a31f8f1d166774434a7d8567bd814dfdc"></a>没有操作权限。</p>
    </td>
    </tr>
    <tr id="rdcbc82cf07414082bd244295a1c1be7b"><td class="cellrowborder" valign="top" width="26.179999999999996%" headers="mcps1.2.3.1.1 "><p id="ad4429862c4874402b6d52f39df7cab3f"><a name="ad4429862c4874402b6d52f39df7cab3f"></a><a name="ad4429862c4874402b6d52f39df7cab3f"></a>404 Not Found</p>
    </td>
    <td class="cellrowborder" valign="top" width="73.82%" headers="mcps1.2.3.1.2 "><p id="a69dd1d22496a4112876ab4a55fae0837"><a name="a69dd1d22496a4112876ab4a55fae0837"></a><a name="a69dd1d22496a4112876ab4a55fae0837"></a>找不到资源。</p>
    </td>
    </tr>
    <tr id="rca892f0504d04aec843be64d6acc9741"><td class="cellrowborder" valign="top" width="26.179999999999996%" headers="mcps1.2.3.1.1 "><p id="a4689343b3f2e43e292f664328e1aa0e1"><a name="a4689343b3f2e43e292f664328e1aa0e1"></a><a name="a4689343b3f2e43e292f664328e1aa0e1"></a>500 Internal Server Error</p>
    </td>
    <td class="cellrowborder" valign="top" width="73.82%" headers="mcps1.2.3.1.2 "><p id="a65e553c1b6c246b69e513013846ed8f4"><a name="a65e553c1b6c246b69e513013846ed8f4"></a><a name="a65e553c1b6c246b69e513013846ed8f4"></a>服务内部错误。</p>
    </td>
    </tr>
    <tr id="r9d1910b3d4eb45e08fd83c3103393a44"><td class="cellrowborder" valign="top" width="26.179999999999996%" headers="mcps1.2.3.1.1 "><p id="aa0aafbeab1434aff99e14c59ed1d9048"><a name="aa0aafbeab1434aff99e14c59ed1d9048"></a><a name="aa0aafbeab1434aff99e14c59ed1d9048"></a>503 Service Unavailable</p>
    </td>
    <td class="cellrowborder" valign="top" width="73.82%" headers="mcps1.2.3.1.2 "><p id="ae6f38fda718241b99a301927f3733f1b"><a name="ae6f38fda718241b99a301927f3733f1b"></a><a name="ae6f38fda718241b99a301927f3733f1b"></a>服务不可用。</p>
    </td>
    </tr>
    </tbody>
    </table>


